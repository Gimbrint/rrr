<html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="styles.css">
  <script src="simpleEvent.js"></script>
  <script src="chessModel.js"></script>
  <!-- <script src="chessView-MarksS.js" defer></script> -->
  <!-- <script src="chessView-Kristaps.js" defer></script> -->
  <script src="chessView-Reinis.js"></script>
  <script type="module">

    const b = new Board(8, 8);
    b.loadPositionFromJSON(`{ "pieces": [
  {
    "player": "w",
    "type": "R",
    "pos": "a7"
  },
  {
    "player": "w",
    "type": "N",
    "pos": "b7"
  },
  {
    "player": "w",
    "type": "B",
    "pos": "c7"
  }
] }`);
    b.loadPositionFromFen("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR");
    

    //const ch = new Chessboard(document.getElementById("container"));

    // const xmlns = "http://www.w3.org/2000/svg";
    // const svg = document.createElementNS(xmlns, "svg");
    // svg.setAttribute("width", 600);
    // svg.setAttribute("height", 600);
    // document.getElementById("containerR").appendChild(svg);

    // const ch = new ChessBoardR(svg);

    const ch = new ChessBoardR(document.getElementById("reinisSVG"));

    b.addEventListener('update', (board) => ch.update(board));
    b.update();
    // ch.addEventListener('move', (txtMove) => b.movePieceTxt(txtMove));

    // b.loadPositionFromFen("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR");

    // document.getElementById("btnMakeMove").addEventListener('click', (e) => {
    //   //console.log(document.getElementById("move").value);
    //   ch.move(document.getElementById("move").value);
    // });
  </script>
</head>

<body>

  <textarea id="input"></textarea>

  <div id="containerMS"> </div>
  <input type="text" id="move"/><button type="button" id="btnMakeMove">Make move</button>

  <div id="containerK"> </div>
  <div id="containerR">
    <svg id="reinisSVG" width="500" height="500">

    </svg>
  </div>
</body>
</html>

<!-- <html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="styles.css" />
    <script src="chessModel.js" defer></script>
    <script src="chessView-MarksS.js" defer></script>
    <script src="chessView-Kristaps.js" defer></script>
    <script src="chessView-Reinis.js" defer></script>
    <script src="simpleEvent.js"></script>
    <script type="module">
      const b = new Board(8, 8);

      const ch = new Chessboard(document.getElementById("containerMS"));

      b.addEventListener("update", (board) => ch.update(board));

      ch.addEventListener("move", (txtMove) => b.movePieceTxt(txtMove));
      ch.addEventListener("check_moves", (args) => {
        console.log(b.enumerateMoves(args[0], args[1], args[2]));
      });

      b.loadPositionFromFen("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR");

      document.getElementById("btnMakeMove").addEventListener("click", (e) => {
        //console.log(document.getElementById("move").value);
        ch.model_move(document.getElementById("move").value);
      });
    </script>
  </head>

  <body>
    <div id="containerMS"></div>
    <input type="text" id="move" /><button type="button" id="btnMakeMove">
      Make move
    </button>
    <h1 id="h1_text"><b></b> <i></i></h1>

    <div id="containerK"></div>
    <div id="containerR"></div>
  </body>
</html> -->